<ui:UiBinder xmlns:ui='urn:ui:com.google.gwt.uibinder'
             xmlns:container='urn:import:com.sencha.gxt.widget.core.client.container'
             xmlns:el='urn:import:com.google.gwt.user.client.ui'
             xmlns:form='urn:import:com.sencha.gxt.widget.core.client.form'
             xmlns:gxt='urn:import:com.sencha.gxt.widget.core.client'
             xmlns:grid='urn:import:com.sencha.gxt.widget.core.client.grid'
             xmlns:button='urn:import:com.sencha.gxt.widget.core.client.button'>
    <!--<ui:style src="style.css" />-->
    <!--<gxt:TabPanel styleName="{style.pretty}">-->

    <ui:with type="com.sencha.gxt.widget.core.client.TabItemConfig" field="courseManagement">
        <ui:attributes text="Список курсов"/>
    </ui:with>
    <ui:with type="com.sencha.gxt.widget.core.client.TabItemConfig" field="userManagement">
        <ui:attributes text="Управление пользователями"/>
    </ui:with>
    <ui:with type="com.sencha.gxt.widget.core.client.TabItemConfig" field="lectureManagement">
        <ui:attributes text="Управление лекциями"/>
    </ui:with>
    <ui:with type="com.sencha.gxt.widget.core.client.TabItemConfig" field="timetable">
        <ui:attributes text="Расписание лекций"/>
    </ui:with>
    <ui:with type="com.sencha.gxt.widget.core.client.TabItemConfig" field="reports">
        <ui:attributes text="Отчеты"/>
    </ui:with>

    <ui:with field="userLayoutData"
             type="com.sencha.gxt.widget.core.client.container.VerticalLayoutContainer.VerticalLayoutData">
        <ui:attributes width="1" height="1"/>
    </ui:with>
    <ui:with type="com.sencha.gxt.widget.core.client.grid.GridView" field="usersView">
        <ui:attributes stripeRows="true"></ui:attributes>
    </ui:with>
    <ui:with type="com.sencha.gxt.widget.core.client.grid.ColumnModel" field="usersCM" />
    <ui:with type="com.sencha.gxt.data.shared.ListStore" field="usersStore" />

    <ui:with field="lectureLayoutData"
             type="com.sencha.gxt.widget.core.client.container.VerticalLayoutContainer.VerticalLayoutData">
        <ui:attributes width="1" height="1"/>
    </ui:with>
    <ui:with type="com.sencha.gxt.widget.core.client.grid.GridView" field="lecturesView">
        <ui:attributes stripeRows="true"></ui:attributes>
    </ui:with>
    <ui:with type="com.sencha.gxt.widget.core.client.grid.ColumnModel" field="lecturesCM" />
    <ui:with type="com.sencha.gxt.data.shared.ListStore" field="lecturesStore" />

    <ui:with field="courseLayoutData"
             type="com.sencha.gxt.widget.core.client.container.VerticalLayoutContainer.VerticalLayoutData">
        <ui:attributes width="1" height="1"/>
    </ui:with>
    <ui:with type="com.sencha.gxt.widget.core.client.grid.GridView" field="coursesView">
        <ui:attributes stripeRows="true"></ui:attributes>
    </ui:with>
    <ui:with type="com.sencha.gxt.widget.core.client.grid.ColumnModel" field="coursesCM" />
    <ui:with type="com.sencha.gxt.data.shared.ListStore" field="coursesStore" />

    <!--css TODO Вынести в отдельный класс-->
    <ui:style>
        .table-style td {
            padding: 5px;
            border-bottom-width: 1px;
        }

        .table-style {
            margin-top: 10px;
            border-spacing: 0;
        }

        .week {
            padding: 10px;
            background-color: white;
            display: block;
        }

        .week button {
            margin: 10px;
            background-color: white;
            display: block;
        }
    </ui:style>

    <ui:with type="com.sencha.gxt.widget.core.client.container.VerticalLayoutContainer.VerticalLayoutData"
             field="week">
        <ui:attributes width="1" height="0.2"/>
    </ui:with>
    <ui:with type="com.sencha.gxt.widget.core.client.container.VerticalLayoutContainer.VerticalLayoutData"
             field="ttable">
        <ui:attributes width="1" height="0.8"/>
    </ui:with>

    <gxt:ContentPanel bodyStyle="padding: 20px">
        <container:VBoxLayoutContainer VBoxLayoutAlign="CENTER">
            <gxt:PlainTabPanel width="800">

                <gxt:child config="{courseManagement}">
                    <gxt:ContentPanel headingText="Список курсов">
                        <gxt:button>
                            <button:TextButton ui:field="addCourseButton" text="Добавить курс"/>
                        </gxt:button>
                        <gxt:button>
                            <button:TextButton ui:field="editCourseButton" text="Редактировать курс"
                                               enabled="false"/>
                        </gxt:button>
                        <container:VerticalLayoutContainer>
                            <container:child layoutData="{courseLayoutData}">
                                <grid:Grid ui:field="coursesGrid" view="{coursesView}" cm="{coursesCM}"
                                           store="{coursesStore}"/>
                            </container:child>
                        </container:VerticalLayoutContainer>
                    </gxt:ContentPanel>
                </gxt:child>

                <gxt:child config="{userManagement}">
                    <gxt:ContentPanel headingText="Список пользователей">
                        <gxt:button>
                            <button:TextButton ui:field="addUserButton" text="Добавить пользователя"/>
                        </gxt:button>
                        <gxt:button>
                            <button:TextButton ui:field="editUserButton" text="Редактировать пользователя"
                                               enabled="false"/>
                        </gxt:button>
                        <container:VerticalLayoutContainer >
                            <container:child layoutData="{userLayoutData}">
                                <grid:Grid ui:field="usersGrid" view="{usersView}" cm="{usersCM}" store="{usersStore}"
                                    stateful="true" stateId="usersGridUiBinder"/>
                            </container:child>
                        </container:VerticalLayoutContainer>
                    </gxt:ContentPanel>
                </gxt:child>

                <gxt:child config="{lectureManagement}">
                    <gxt:ContentPanel headingText="Список лекций">
                        <gxt:button>
                            <button:TextButton ui:field="addLectureButton" text="Добавить лекцию"/>
                        </gxt:button>
                        <gxt:button>
                            <button:TextButton ui:field="editLectureButton" text="Редактировать лекцию"
                                               enabled="false"/>
                        </gxt:button>
                        <container:VerticalLayoutContainer>
                            <container:child layoutData="{lectureLayoutData}">
                                <grid:Grid ui:field="lecturesGrid" view="{lecturesView}" cm="{lecturesCM}"
                                           store="{lecturesStore}"/>
                            </container:child>
                        </container:VerticalLayoutContainer>
                    </gxt:ContentPanel>
                </gxt:child>

                <gxt:child config="{timetable}">
                    <gxt:ContentPanel headingText="Расписание" width="1">
                        <container:VerticalLayoutContainer>
                            <container:child layoutData="{week}">
                                <container:HorizontalLayoutContainer styleName="{style.week}">
                                    <el:Button title="Previous Week" text="←"/>
                                    <form:DateField ui:field="dateBox1" editable="false" enabled="false"/>
                                    <el:Label text=" - "/>
                                    <form:DateField ui:field="dateBox2" editable="false" enabled="false"/>
                                    <el:Button title="Next Week" text="→"/>
                                </container:HorizontalLayoutContainer>
                            </container:child>
                            <container:child layoutData="{ttable}">
                                <el:FlexTable ui:field="schedule" borderWidth="1" width="1"
                                              styleName="{style.table-style}"/>
                            </container:child>
                        </container:VerticalLayoutContainer>
                    </gxt:ContentPanel>
                </gxt:child>
                <gxt:child config="{reports}">
                    <gxt:ContentPanel headingText="Отчеты">
                    </gxt:ContentPanel>
                </gxt:child>
            </gxt:PlainTabPanel>
        </container:VBoxLayoutContainer>
    </gxt:ContentPanel>

</ui:UiBinder>